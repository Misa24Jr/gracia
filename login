<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
    <head>
		<title>DOMUS</title>
		<link rel="shortcut icon" href="images/insiemp.ico"/>
		<link rel="stylesheet" href="css/Login.css">

    	<meta charset="ISO-8859-1">
    	<meta http-equiv="X-UA-Compatible" content="IE=edge">
    	<meta name="viewport" content="width=device-width, initial-scale=1.0">
		
		<meta http-equiv="Cache-Control" content="no-cache">
		<meta http-equiv="Cache-Control" content="no-store">
		<meta http-equiv="Expires" content=0>
		<meta http-equiv="Pragma" content="no-cache">
		<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"/>
        
        <script language="JavaScript" type="text/javascript" src="js/com/LoadCss.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/Include.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/Slider.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/jspdf.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/jspdf.plugin.addimage.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/jspdf.plugin.split_text_to_size.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/jspdf.plugin.standard_fonts_metrics.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/base64.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/sprintf.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/canvas2image.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/iconBar.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/Horario.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/Excel.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/AcordeonAttrib.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/Acordeon.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/CanvasFactory.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/CanvasBuilder.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/Form.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/Printer.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/Report.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/Chart.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/Graph.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/tinymce/tinymce.min.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/RichEdit.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/ReportBuilder.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/Audio.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/PanelButton.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/StringBuffer.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/Panel.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/panels.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/imgButtons.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/edits.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/selects.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/attrib.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/wait.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/ControlButton.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/Horas.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/dialogs.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/labels.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/xmlStructs.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/xmlHttpReq.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/Tool.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/powerComboBox.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/grids.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/images.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/desktop.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/Alert.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/calendars.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/confirmDlg.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/DlgErr.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/checkBox.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/hint.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/memo.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/tables.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/treeviews.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/Reporte.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/ReporteCSV.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/tabs.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/popupmenu.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/buttons.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/container.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/customGrid.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/exchangeList.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/gridpanels.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/iconBar.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/menues.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/radio.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/selectList.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/SinglePanel.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/validar.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/checkBox.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/JsonProcess.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/ListGrid.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/PanelBuilder.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/Book.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/com/Sheet.js"></script>
		
		<script language="JavaScript" type="text/javascript" src="js/edu/ins/InscAlumnos.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/edu/ins/ProcCrearInscripcion.js"></script>
		
		<script language="JavaScript" type="text/javascript" src="js/edu/cnt/rpt/Vistaprevia.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/edu/cnt/rpt/NotasCertificadas.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/edu/cnt/rpt/ResumenFinalInicial.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/edu/cnt/rpt/Certificacion.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/edu/cnt/rpt/ResumenFinal31059.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/edu/cnt/rpt/ResumenFinal31059Mapping.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/edu/cnt/rpt/CertificacionBatch.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/edu/cnt/rpt/CertificacionBatchMapping.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/edu/cnt/rpt/RegistroTitulo.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/edu/cnt/rpt/RegTituloMapping.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/edu/cnt/rpt/DefxLapsoPdf.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/edu/cnt/rpt/MappingDefLap.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/edu/cnt/rpt/ModeloFichaAlumno.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/edu/cnt/EvalAlumno.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/edu/cnt/rpt/VistaPreviaConstancia.js"></script>

		<script language="JavaScript" type="text/javascript" src="js/edu/men/ChatAttrib.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/edu/men/AdjuArchivos.js"></script>

		<script language="JavaScript" type="text/javascript" src="js/edu/pla/ProcDispProf.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/edu/pla/ProcCrearCurso.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/edu/pla/ProcDispProf.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/edu/pla/ResuBusqueda.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/edu/pla/DuplPeriodo.js"></script>
		
		<script language="JavaScript" type="text/javascript" src="js/edu/adm/ProcPagoMedico.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/edu/adm/ProcPagos.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/edu/adm/CalcMontos.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/edu/adm/FormPago.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/edu/adm/CaptValor.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/edu/adm/Documento.js"></script>
		
		<script language="JavaScript" type="text/javascript" src="js/edu/seg/Modulo.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/edu/seg/MantCamClave.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/edu/seg/MantReiClave.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/edu/seg/Property.js"></script>
		<script language="JavaScript" type="text/javascript" src="js/edu/seg/CtxOrg.js"></script>
    		<script language="JavaScript" type="text/javascript" src="js/edu/seg/Login.js"></script>
    </head>
    <body>
	    <script>
		//CONFIGURACION DEL WAIT///////////////////////////////////////////////////////////////////////
		var ambiente = 1; 
		var dlgWait = new Object();
		var Entrar = {
			init: function() {
				//CONFIGURACION DEL WAIT///////////////////////////////////////////////////////////////////////
				dlgWait = wait.create("wait1");
				dlgWait.setObjAttrib(attrib, ambiente);
				dlgWait.bringToFrom();	
				Tool.cnnSrv('index', '', 'dlgWait.hide()');
			}
		};	    
		setCallBack('Entrar.init()');    
		
		var imgEduca = {
			banner : '',
			bienvenido : '',
			logo : '',
			portada_boletin :'',
			publicidad_boletin :'',
			obs_representante : '',
			logo_carnet :''
		};
			
		function getAutenticacion(usr, pwd) {
			var rlx = xmlStructs.createRecordList("rlx");
			rlx.addStr('reg', usr);
			rlx.addStr('reg', pwd);
			Tool.cnnSrv('', '', 'loadAutenticacion()', rlx);
	    	};
	    	
	    	function loadAutenticacion() {
			var org = xmlHttpReq.objResponse[0];
		
			ambiente = org.data[9][0];	
			attrib.setActualEnv(ambiente);
			dlgWait.setObjAttrib(attrib, ambiente);
			dlgWait.hide();
			if (org.data[0].length > 0) {
				Modulo.show();
			}
	    	}; 
	    	
	    	function recuperar() {
			MantReiClave.show();
		};
		
		function admision(usr, pwd) {
			location.replace('/gracia/admision');
		}		

		const login = new Login({
		    userLabel : 'Usuario',
		    passwordLabel: 'Clave',
		    imgSrc: 'images/candadoLogin.jpeg',
		    recoverPasswordLabel:'�Olvido su Clave?',
		    submitLabel: 'Ingresar',
		    admisionLabel:'',		    
		    onClickRecoverPassword:()=>{
		    	recuperar();
		    },
		    onClickSubmit:()=>{
		    	getAutenticacion(login.getUser(), login.getPassword());
		    },
		    //onClickAdmision:()=>{
		    //	admision();
		    //},
		})
		login.addToBody();
	    </script>
    </body>
</html>
