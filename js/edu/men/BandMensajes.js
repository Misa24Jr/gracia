var dataStruct = 
{
  offsetPage: 0,
  pageSize  : 11,
  itemPage  : 0,
  fields    : ["","Fecha","Hora","Estado","Remitente","Telefono","Contenido"],
  data      :  [
  				
				 [ false,false,false,false,false,false,false,false,false,false,
			       false,false,false,false,false,false,false,false,false,false,
				   false,false,false,false,false,false,false,false,false,false,
				   false,false,false,false,false,false,false,false,false,false,
				   false,false,false,false,false,false,false,false,false,false,
				   false,false,false,false,false,false,false,false,false,false,
				   false,false,false,false,false,false,false,false,false,false
				 ],	
				
				 [ 
				   "12-05-2012","02-05-2012","22-01-2012","14-02-2012","11-03-2012",
				   "25-06-2012","29-04-2012","15-09-2012","10-09-2012","18-06-2012",
				   "06-01-2012","17-06-2012","28-03-2012","29-03-2012","12-05-2012",
				   "06-01-2012","17-06-2012","28-03-2012","29-03-2012","12-05-2012",
				   "06-01-2012","17-06-2012","28-03-2012","29-03-2012","12-05-2012",
				   "06-01-2012","17-06-2012","28-03-2012","29-03-2012","12-05-2012",
				   "06-01-2012","17-06-2012","28-03-2012","29-03-2012","12-05-2012",
				   "06-01-2012","17-06-2012","28-03-2012","29-03-2012","12-05-2012"					   
				 ],
				  
				 [
			  	   "09:30 pm","09:38 pm","10:05 pm","08:50 am","05:45 am","03:45 am",
				   "09:30 pm","09:38 pm","10:05 pm","08:50 am","05:45 am","03:45 am",
				   "09:30 pm","09:38 pm","10:05 pm","08:50 am","05:45 am","03:45 am",
				   "09:30 pm","09:38 pm","10:05 pm","08:50 am","05:45 am","03:45 am",
				   "09:30 pm","09:38 pm","10:05 pm","08:50 am","05:45 am","03:45 am",
				   "09:30 pm","09:38 pm","10:05 pm","08:50 am","05:45 am","03:45 am",
				   "09:30 pm","09:38 pm","10:05 pm","08:50 am","05:45 am","03:45 am",
				   "09:30 pm","09:38 pm","10:05 pm","08:50 am","05:45 am","03:45 am"
				 ], 
				  
			     [
			  	   'images/mensajecerrado_1.png','images/mensajeabierto_1.png','images/mensajecerrado_1.png','images/mensajeabierto_1.png','images/mensajecerrado_1.png','images/mensajeabierto_1.png','images/mensajecerrado_1.png','images/mensajeabierto_1.png',
			       'images/mensajecerrado_1.png','images/mensajeabierto_1.png','images/mensajecerrado_1.png','images/mensajeabierto_1.png','images/mensajecerrado_1.png','images/mensajeabierto_1.png','images/mensajecerrado_1.png','images/mensajeabierto_1.png',
				   'images/mensajecerrado_1.png','images/mensajeabierto_1.png','images/mensajecerrado_1.png','images/mensajeabierto_1.png','images/mensajecerrado_1.png','images/mensajeabierto_1.png','images/mensajecerrado_1.png','images/mensajeabierto_1.png',
			       'images/mensajecerrado_1.png','images/mensajeabierto_1.png','images/mensajecerrado_1.png','images/mensajeabierto_1.png','images/mensajecerrado_1.png','images/mensajeabierto_1.png','images/mensajecerrado_1.png','images/mensajeabierto_1.png',
				   'images/mensajecerrado_1.png','images/mensajeabierto_1.png','images/mensajecerrado_1.png','images/mensajeabierto_1.png','images/mensajecerrado_1.png','images/mensajeabierto_1.png','images/mensajecerrado_1.png','images/mensajeabierto_1.png',
				   'images/mensajecerrado_1.png','images/mensajeabierto_1.png','images/mensajecerrado_1.png','images/mensajeabierto_1.png','images/mensajecerrado_1.png','images/mensajeabierto_1.png','images/mensajecerrado_1.png','images/mensajeabierto_1.png',
			       'images/mensajecerrado_1.png','images/mensajeabierto_1.png','images/mensajecerrado_1.png','images/mensajeabierto_1.png','images/mensajecerrado_1.png','images/mensajeabierto_1.png','images/mensajecerrado_1.png','images/mensajeabierto_1.png',
				   'images/mensajecerrado_1.png','images/mensajeabierto_1.png','images/mensajecerrado_1.png','images/mensajeabierto_1.png','images/mensajecerrado_1.png','images/mensajeabierto_1.png','images/mensajecerrado_1.png','images/mensajeabierto_1.png'
				 ],
			    
				 [
				   "Jubert Perez","Pablo Reverol","Jaimito Jaimito","Misael Reverol","Karla Chacín",
			       "Ana Luisa Bermudez","Maria Gloria Gonzalez","Yasenia Perez","Anabel Báez","Raquel Pedrañez",
				   "Ruben Dario Peña","Misael José Reverol","Jean Daniel Desousa","Margarita Briceño","María Viloria",
				   "Ana Luisa Bermudez","Maria Gloria Gonzalez","Yasenia Perez","Anabel Báez","Raquel Pedrañez",
				   "Ana Luisa Bermudez","Maria Gloria Gonzalez","Yasenia Perez","Anabel Báez","Raquel Pedrañez",
				   "Ruben Dario Peña","Misael José Reverol","Jean Daniel Desousa","Margarita Briceño","María Viloria",
				   "Ana Luisa Bermudez","Maria Gloria Gonzalez","Yasenia Perez","Anabel Báez","Raquel Pedrañez"
				 ],
				 
				 [
				   "0261-7985625","04265662323","04142322562","04124562589","04128962545",
			       "0261-7985625","04265662323","04142322562","04124562589","04128962545",
				   "0261-7985625","04265662323","04142322562","04124562589","04128962545",
				   "0261-7985625","04265662323","04142322562","04124562589","04128962545",
				   "0261-7985625","04265662323","04142322562","04124562589","04128962545",
				   "0261-7985625","04265662323","04142322562","04124562589","04128962545",
				   "0261-7985625","04265662323","04142322562","04124562589","04128962545",
				   "0261-7985625","04265662323","04142322562","04124562589","04128962545",
				   "0261-7985625","04265662323","04142322562","04124562589","04128962545"
				 ],
				 
				 [
				   "La capital española rindió tributo a El Libertador de América, Simón Bolívar, tras cumplirse 201 años de la", 
				   "firma del acta que selló definitivamente la independencia de Venezuela",
				   "En un emotivo acto organizado por la Embajada de la República Bolivariana de Venezuela ante el Reino de España",
				   "Creemos que hay gente que almacena lo que aprende de manera semántica, otra que lo hace de según el momento de aprendizaje",
				   "Otras muchas formas», afirmó Jeremy Manning, investigador de la Universidad de Princeton. Según él, conocer qué",
				   "Proceso sigue cada individuo permitiría diseñar estrategias para aprender más en menos tiempo",
				   "España. Pensado para profesionales que alguna vez en su vidas se hayan cuestionado los dogmas y modelos oficiales",
				   "Es el libro más corto que he escrito nunca. Y eso me ha obligado a buscar nuevos atajos para contar ideas no siempre",
				   "Simples ni fáciles. Además de algunos errores que deberíamos evitar, el texto explica",
				   "El autor, basado en las investigaciones que indican que cinco de cada siete estrategias fracasan, concibió e instrumentó",
				   "Una nueva teoría para aumentar la eficiencia práctica. Además busca hacer fácil cosas que, por su naturaleza, son difíciles",
				   "Complicadas. Su texto se estructura en tres grandes partes. En la primera aborda lo que denomina la jungla estratégica",
				   "En la segunda se enumeran los errores que se deben evitar y en la tercera se detallan los reajustes necesarios y convenientes",
				   "Es el libro más corto que he escrito nunca. Y eso me ha obligado a buscar nuevos atajos para contar ideas no siempre",
				   "Simples ni fáciles. Además de algunos errores que deberíamos evitar, el texto explica",
				   "El autor, basado en las investigaciones que indican que cinco de cada siete estrategias fracasan, concibió e instrumentó",
				   "Una nueva teoría para aumentar la eficiencia práctica. Además busca hacer fácil cosas que, por su naturaleza, son difíciles",
				   "Complicadas. Su texto se estructura en tres grandes partes. En la primera aborda lo que denomina la jungla estratégica",
				   "En la segunda se enumeran los errores que se deben evitar y en la tercera se detallan los reajustes necesarios y convenientes",
				   "Proceso sigue cada individuo permitiría diseñar estrategias para aprender más en menos tiempo",
				   "España. Pensado para profesionales que alguna vez en su vidas se hayan cuestionado los dogmas y modelos oficiales",
				   "Es el libro más corto que he escrito nunca. Y eso me ha obligado a buscar nuevos atajos para contar ideas no siempre",
				   "Simples ni fáciles. Además de algunos errores que deberíamos evitar, el texto explica",
				   "El autor, basado en las investigaciones que indican que cinco de cada siete estrategias fracasan, concibió e instrumentó",
				   "Una nueva teoría para aumentar la eficiencia práctica. Además busca hacer fácil cosas que, por su naturaleza, son difíciles",
				   "Complicadas. Su texto se estructura en tres grandes partes. En la primera aborda lo que denomina la jungla estratégica",
				   "En la segunda se enumeran los errores que se deben evitar y en la tercera se detallan los reajustes necesarios y convenientes",
				   "Es el libro más corto que he escrito nunca. Y eso me ha obligado a buscar nuevos atajos para contar ideas no siempre",
				   "Simples ni fáciles. Además de algunos errores que deberíamos evitar, el texto explica",
				   "El autor, basado en las investigaciones que indican que cinco de cada siete estrategias fracasan, concibió e instrumentó",
				   "Una nueva teoría para aumentar la eficiencia práctica. Además busca hacer fácil cosas que, por su naturaleza, son difíciles",
				   "Complicadas. Su texto se estructura en tres grandes partes. En la primera aborda lo que denomina la jungla estratégica",
				   "En la segunda se enumeran los errores que se deben evitar y en la tercera se detallan los reajustes necesarios y convenientes" 
				 ]
			   ]
}

var dialogsBandMensajes = new Object();
var calendarsBandMenFecha = new Object();
var editsBandMenHora = new Object();
var editsBandMenDe = new Object();
var memoBandMenContenido = new Object();
var customGridBandMenBanEntrada = new Object();
var imgButtonsBandMenEliminar = new Object();
var imgButtonsBandMenLimpiar = new Object();
var imgButtonsBandMenBuscar = new Object();
var imgButtonsBandMenReporte = new Object();
var imgButtonsBandMenSalir = new Object();
var mwdialogsBandMensajes = new Object();// minWindow
var BandMensajes = {
	windowName: 'BandMensajes',
	isCreate: false,  
	
	show: function(){
		if (!this.isCreate) {
			this.init();
			this.isCreate = true;
		}
		if (dialogsBandMensajes.isByClean()) 
			this.limpiar();
		dialogsBandMensajes.show();
	},
	hide: function(){
		dialogsBandMensajes.hide();
	},
	createMWs: function(){
		mwBandMensajes = desktop.addMinWindow('B. Mensajes', this.windowName + '.show()', this.windowName + '.hide()', this.windowName + '.hide()');
		dialogsBandMensajes.setMinWindowEvent('mw' + this.windowName + '.hide()', 'mw' + this.windowName + '.disable()', 'mw' + this.windowName + '.show()');
	},
	
	dialogsBandMensajes_Init: function(){
		dialogsBandMensajes.setMinimizeXY(0, 0);
		dialogsBandMensajes.setCenterScreen();
		dialogsBandMensajes.addSpace(0, 0, 20);
		dialogsBandMensajes.addLn(1,1,1);
		dialogsBandMensajes.setHeightCell(1,1,10);
		dialogsBandMensajes.addObjToDialog(calendarsBandMenFecha.getEditCalendar(), 2, 1,24);
		calendarsBandMenFecha.setWidthEditCalendar(126);
        calendarsBandMenFecha.setCaption('Fecha (*):',1,67);
        calendarsBandMenFecha.sendToFrom(100);
		dialogsBandMensajes.addObjToDialog(editsBandMenHora, 2, 1,24);
		editsBandMenHora.setSizeEdit(55);
		dialogsBandMensajes.addObjToDialog(editsBandMenDe, 2, 1,24);
		editsBandMenDe.setSizeEdit(148);
		editsBandMenDe.setMaxLength(50); 
		dialogsBandMensajes.addObjToDialog(editsBandMenTelefono, 2, 1,24);
		editsBandMenTelefono.setSizeEdit(148);
		editsBandMenTelefono.setMaxLength(50);
		dialogsBandMensajes.adjAllMarginObj(2, 1, 20);
		dialogsBandMensajes.addLn(3,1,1);
		dialogsBandMensajes.setHeightCell(3,1,10);
		dialogsBandMensajes.addObjToDialog(memoBandMenContenido, 4, 1,24);
		memoBandMenContenido.vAlignCaption('middle');
		memoBandMenContenido.setDimension(758,40);
		memoBandMenContenido.setMaxLength(250);
		dialogsBandMensajes.addLn(5, 1, 1);
		dialogsBandMensajes.setHeightCell(5,1,12);
		dialogsBandMensajes.addObjToDialog(customGridBandMenBanEntrada,6,1);
		dialogsBandMensajes.addLn(7, 1, 1);
		dialogsBandMensajes.setHeightCell(7,1,10);
		dialogsBandMensajes.addObjToDialog(imgButtonsBandMenEliminar, 8, 1);
		dialogsBandMensajes.addObjToDialog(imgButtonsBandMenLimpiar, 8, 1);
		dialogsBandMensajes.addObjToDialog(imgButtonsBandMenBuscar, 8, 1);
		dialogsBandMensajes.addObjToDialog(imgButtonsBandMenReporte, 8, 1);
		dialogsBandMensajes.addObjToDialog(imgButtonsBandMenSalir, 8, 1);
		imgButtonsBandMenEliminar.setDimension(90, 22);
		imgButtonsBandMenLimpiar.setDimension(90, 22);
		imgButtonsBandMenBuscar.setDimension(90, 22);
		imgButtonsBandMenReporte.setDimension(90, 22);
		imgButtonsBandMenSalir.setDimension(90, 22);
		dialogsBandMensajes.adjAllMarginObj(8, 1, 20);
		dialogsBandMensajes.leftMarginObj(8, 1, 0, 144);
	},
	
	gridsBandMensajes_Init: function(){
        customGridBandMenBanEntrada.loadColumnTypeStruct(dataStruct,[customGrid.TYPE_COLUMN_CHECK, customGrid.TYPE_COLUMN_EDIT, customGrid.TYPE_COLUMN_EDIT,customGrid.TYPE_COLUMN_IMAGE,customGrid.TYPE_COLUMN_EDIT,customGrid.TYPE_COLUMN_EDIT,customGrid.TYPE_COLUMN_EDIT], [20,80,60,60,150,90,396]);
        customGridBandMenBanEntrada.createTitleObj(0,'input','checkbox');
        customGridBandMenBanEntrada.setMarginObjTitle(0,2);
        customGridBandMenBanEntrada.alignColumnTitle(0,'center');
		customGridBandMenBanEntrada.setSelectedLnMode(0);
		customGridBandMenBanEntrada.addTitleVectorX(['','Fecha','Hora','Estado','Remitente','Telefono','Contenido']);
		//customGridBandMenBanEntrada.hideCol(4);
        
        
	},

	create: function(){
		dialogsBandMensajes = dialogs.create('dialogsBandMensajes', 0, 0, 867, 466, 'BANDEJA DE MENSAJES');
		dialogsBandMensajes.setAdjY(20);
		calendarsBandMenFecha = calendars.create('calendarsBandMenFecha');
        calendarsBandMenFecha.setValidEmpty();
		editsBandMenHora = edits.create('editsBandMenHora', 'editsBandMenHora', 'Hora (*):', 1,54, 'normal');
		editsBandMenHora.setValidEmpty();
		editsBandMenDe = edits.create('editsBandMenDe', 'editsBandMenDe', 'Remitente:', 1,69, 'normal');
		editsBandMenDe.setValidEmpty();
		editsBandMenTelefono = edits.create('editsBandMenTelefono', 'editsBandMenTelefono', 'Telefono (*):', 1,75, 'normal');
		editsBandMenTelefono.setValidEmpty();
		memoBandMenContenido = memo.create('memoBandMenContenido','Contenido:',1,1,65);
        memoBandMenContenido.setValidEmpty();
		customGridBandMenBanEntrada = customGrid.create('customGridBandMenBanEntrada','Bandeja de Entrada',270,826,22);
		imgButtonsBandMenEliminar = imgButtons.create('imgButtonsBandMenEliminar', 'Eliminar', 'eliminar.jpg');
		imgButtonsBandMenLimpiar = imgButtons.create('imgButtonsBandMenLimpiar', 'Limpiar', 'limpiar.png');
		imgButtonsBandMenBuscar = imgButtons.create('imgButtonsBandMenBuscar', 'Buscar', 'icono_buscar.png');
		imgButtonsBandMenReporte = imgButtons.create('imgButtonsBandMenReporte', 'Reporte', 'print.png');
		imgButtonsBandMenSalir = imgButtons.create('imgButtonsBandMenSalir', 'Salir', 'salir.png');
	},
	
	init: function(){
		this.create();
		this.setEvents();
		this.dialogsBandMensajes_Init();
		this.gridsBandMensajes_Init();
		this.createMWs();
	},
	
	limpiar: function(){
		calendarsBandMenFecha.clear();
		editsBandMenHora.setValue("");
		editsBandMenDe.setValue("");
		editsBandMenTelefono.setValue("");
		memoBandMenContenido.setText("");
		//customGridBandMenBanEntrada.clean();
		dialogsBandMensajes.setMsg("");
		//imgButtonsBandMenBuscar.setEnable();
		//imgButtonsBandMenReporte.setDisable();
		//imgButtonsBandMenEliminar.setDisable();
		//Tool.getPowerComboData("MantObject", "getMantOrganizacion", dialogsMantPensum, powerComboBoxMantPenOrganizacion, 0, 1);		
	},
	
	setData: function(){
		if (gridsBandMensajes.getDataCell(1) != "") {
			editsBandMenHora.setValue(gridsBandMensajes.getDataCell(1));
			editsBandMenDe.setValue(gridsBandMensajes.getDataCell(2));
			editsBandMenTelefono.setValue(gridsBandMensajes.getDataCell(3));
			editsMantPerAutCiRep.setValue(gridsBandMensajes.getDataCell(4));
			editsMantPerAutNombreRep.setValue(gridsBandMensajes.getDataCell(5));
			editsMantPerAutApellidoRep.setValue(gridsBandMensajes.getDataCell(5));
			editsBandMenHora.readOnly(false);
			//imgButtonsMantPerAutAutAgregar.setDisable();
			//imgButtonsMantPerAutAutModificar.setEnable();
			//imgButtonsMantPerAutAutEliminar.setEnable();
		}
	},
	
	setEvents: function(){
		
		imgButtonsBandMenEliminar.onClick(this.windowName + ".coreUpdate('eliminar')");
		imgButtonsBandMenLimpiar.onClick(this.windowName + ".coreUpdate('limpiar')");
		imgButtonsBandMenBuscar.onClick(this.windowName + ".coreUpdate('buscar')");
		imgButtonsBandMenReporte.onClick('BandMensajes.reporte()');
		imgButtonsBandMenSalir.onClick('dialogsBandMensajes.close()');
	},
	

	
	buscar: function(){
		var rlx = xmlStructs.createRecordList("rlx");
		customGridBandMenBanEntrada.clean();
		rlx.add('reg', calendarsBandMenFecha);
		rlx.add('reg', editsBandMenHora);
		rlx.add('reg', editsBandMenDe);
		rlx.add('reg', editsBandMenTelefono);
		xmlHttpReq.addParam(xmlStructs.TYPE_PARAM_RECORDLIST, rlx.getRecordList());
		Tool.getGridData('MantObject', 'get' + this.windowName, dialogsBandMensajes, gridsBandMensajes, false);
	},
	
	coreUpdate: function(methodName){
		var procesar = false;
		var rlx = xmlStructs.createRecordList("rlx");
		
		if (methodName == 'eliminar') {
			if (editsBandMenHora.valid(dialogsBandMensajes)) {
				rlx.add('reg', editsBandMenHora);
				procesar = true;
			}
		}
		else {
			if (editsMantCedIdentidad.valid(dialogsBandMensajes)) 
				if (editsBandMenDe.valid(dialogsBandMensajes)) 
					if (editsBandMenTelefono.valid(dialogsBandMensajes)){
									rlx.add('reg', editsBandMenDe);
									rlx.add('reg', editsBandMenTelefono);
									rlx.add('reg', editsMantPerAutCiRep);
									
									if (methodName == 'modificar') {
										rlx.add('reg', editsMantCedIdentidad);
									}
									procesar = true;
								}
		}
		if (procesar) {
			Tool.cnnSrv('MantObject', methodName + this.windowName, this.windowName + '.limpiar()', rlx);
		}
	}
	
};


