<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <link rel="shortcut icon" href="images_portal/insiemp.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="js_portal/com/Flexivity.js"></script>
    <script src="js_portal/app/portal/bodyConfig.js"></script>
    <script src="js_portal/app/portal/LaInstitucion.js"></script>

    <title>La Institución</title>
  </head>

  <body>
    <script>
      flex.init = () => {
        const {Card, NavBar, Hero, Footer, Document} = flex;
        const setCardProperties = (id) => {
          return {
            id,
            idxElement: 0,
            cssClass: {
              width: '100%',
              margin: 'unset',
            }
          }
        }
        const documentContainers = new Document(); //contenedores
        const navBar = new NavBar(navBarConfig);
        const footer = new Footer(footerConfig);
        const hero = new Hero({
          id: 'hero',
          fullHeight: false,
          title: 'U.E.P. NUESTRA SEÑORA DEL PILAR',
          subTitle: 'Nuestra institución',
          imgSrc : 'images_portal/institucion/la-institucion.jpg'
        });
        let contactsConfig = footerConfig;
        contactsConfig.id = 'contact'; 
        const contacts = new flex.Footer(contactsConfig);
        const closeContacts = new flex.ControlButton({
          id: 'closecontact',
          idxElement: 0,
          backgroundColor1: 'white',
          cssClass:{
            position: 'absolute',
            top: '10px'
          },
          typeButton: 'close',
          hint: 'cerrar'
        });
        const cardHistoria = new Card(setCardProperties('resumenHistorico'));
        cardHistoria.addSection(historia);
        //departamentos
        const cardOrientacion     = new Card(setCardProperties('orientacion')); 
        const cardPsicopedagogia  = new Card(setCardProperties('psicopedagogia')); 
        const cardCaopp           = new Card(setCardProperties('caopp')); 
        cardOrientacion.addSection(departamentoOrientacion);
        cardPsicopedagogia.addSection(departamentoPsicopedagogia);
        cardCaopp.addSection(departamentoCaopp);
        //coordinaciones
        const cardAcademica       = new Card(setCardProperties('academica')); 
        const cardPastoral        = new Card(setCardProperties('pastoral')); 
        const cardPedagogica      = new Card(setCardProperties('pedagogica')); 
        const cardCultura         = new Card(setCardProperties('cultural')); 
        const cardCrp             = new Card(setCardProperties('crp')); 
        const cardControlEstudio  = new Card(setCardProperties('controlEstudio'));
        cardAcademica.addSection(coordinacionAcademica);
        cardPastoral.addSection(coordinacionPastoral);
        cardPedagogica.addSection(coordinacionPedagogica);
        cardCultura.addSection(coordinacionCultura);
        cardCrp.addSection(coordinacionCrp);
        cardControlEstudio.addSection(controlEstudio);


        footer._allBuilt = () => {
          cardHistoria.getPanel().style.margin = '20px auto';
          navBar.setActualSection('laInstitucion');
          closeContacts.setPosition('95%')
          contacts.getPanel().style.backgroundColor = 'rgba(0,0,0,0.8)';
          navBar.getSection('contactos').addEventListener('click',e=>{
            if(contacts.getPanel().getBoundingClientRect().top === innerHeight - contacts.getPanel().getBoundingClientRect().height){
              closeContacts.getPanel().click();
            } else{
              contacts.getPanel().style.display = 'block';
              contacts.getPanel().style.top = innerHeight +'px';
              contacts.getPanel().style.transition = 'top ease-in 0.3s';
              contacts.getPanel().style.top = innerHeight - contacts.getPanel().getBoundingClientRect().height +'px';
            }
          });
          closeContacts.onClick(()=>{
            contacts.getPanel().style.top = innerHeight + 'px';
          });
          contacts.getPanel().addEventListener('transitionend',e=>{
            if(contacts.getPanel().getBoundingClientRect().top == innerHeight - contacts.getPanel().getBoundingClientRect().height) console.log(e);
          })
          contacts.getPanel().style.position = 'fixed';
          contacts.getPanel().appendChild(closeContacts.getPanel());
          cardHistoria.setDimension('95%');  
          
          navBar.addToBody();
          hero.addToBody();
          cardHistoria.addToBody();
          documentContainers
          .createLayout({
              type: 'simpleGrid', //contenedor grid sencillo para las cards
              title: 'Departamentos',
              id: 'DepartamentosCardContainer', //id del contenedor
              addToBody: true,
              elements: [
                cardOrientacion.getPanel(),
                cardPsicopedagogia.getPanel(),
                cardCaopp.getPanel(),
              ]
            })
          .createLayout({
              type: 'simpleGrid', //contenedor grid sencillo para las cards
              title: 'Coordinaciones',
              id: 'CoordinacionesCardContainer', //id del contenedor
              addToBody: true,
              elements: [
              cardAcademica.getPanel(),     
              cardCrp.getPanel(),           
              cardPedagogica.getPanel(),    
              cardPastoral.getPanel(),      
              cardCultura.getPanel(),       
              cardControlEstudio.getPanel(),
              ]
            })
          .createLayout({
            id: 'simpleGallery',
            type: 'simpleGallery',
            title: 'nuestras instalaciones',
            addToBody: true,
            elements:[
              {
                caption: 'Cafetin de la institución',
                imgSrc:'images_portal/institucion/cafetin.png'
              },
              {
                caption: 'Instalaciones deportivas',
                imgSrc:'images_portal/institucion/cancha.png'
              },
              {
                caption: 'Salones de clases',
                imgSrc:'images_portal/institucion/salones.png'
              },
              {
                caption: 'Plaza San Miguel',
                imgSrc:'images_portal/institucion/plaza-san-miguel.png'
              },
              {
                caption: 'Plaza Maria',
                imgSrc:'images_portal/institucion/plaza-maria.png'
              },
              {
                caption: 'Entrada de la institución',
                imgSrc:'images_portal/institucion/entrada-inst.png'
              },
            ]
          });
          footer.addToBody();
          contacts.addToBody();
        }
      }
    </script>
  </body>

</html>